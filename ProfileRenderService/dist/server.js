(()=>{var e={403:(e,t,a)=>{var r=a(689),n=a(199),s=a(220);e.exports=function(e){return r.createElement("div",{className:"app-wrapper"},r.createElement("div",{className:"header-container"},r.createElement("h1",null,"Expert Profile")),r.createElement(n,e),r.createElement(s,null))}},267:(e,t,a)=>{var r=a(689),n=a(722);e.exports=function(e){var t=e.latestQuestions,a=function(e){var t=e.question,a=n(t.timestamp.seconds);return r.createElement("div",{className:"question-item"},r.createElement("div",{className:"question-item-title"},r.createElement("div",null,a),r.createElement("div",null,t.customerName)),r.createElement("div",{className:"question-item-body"},r.createElement("a",{href:"#"},t.text)))};return r.createElement("div",{className:"questions-list"},r.createElement("div",{className:"questions-list-title"},"Recent Questions"),t&&t.length?r.createElement("div",{className:"questions-list"},t.map((function(e){return r.createElement(a,{question:e,key:e.questionId})}))):r.createElement("div",{className:"no-questions-msg"},"No questions yet.."))}},943:(e,t,a)=>{var r=a(689),n=a(424),s=a(403);e.exports=function(e){var t="/content/".concat(n["client.css"]),a="/content/".concat(n["client.js"]),c=JSON.stringify(e),l="window.__INITIAL_STATE = ".concat(c);return r.createElement("html",null,r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("title",null,"Profile"),r.createElement("link",{rel:"stylesheet",href:t,type:"text/css"}),r.createElement("script",{type:"text/javascript",dangerouslySetInnerHTML:{__html:l}})),r.createElement("body",null,r.createElement(s,e),r.createElement("script",{type:"text/javascript",src:a})))}},246:(e,t,a)=>{var r=a(689);e.exports=function(e){var t=e.data;return r.createElement("div",{className:"address-container"},r.createElement("div",{className:"address-property-container"},r.createElement("div",{className:"address-title"},"City:"),r.createElement("div",{className:"address-city"},t.city?t.city:"No data")),t.street&&r.createElement("div",{className:"address-property-container"},r.createElement("div",{className:"address-title"},"Street:"),r.createElement("div",{className:"address-street"},t.street)))}},730:(e,t,a)=>{var r=a(689),n=a(722);e.exports=function(e){var t=e.feedbacks,a=function(e){var t=e.feedback,a=n(t.timestamp.seconds);return r.createElement("div",{className:"feedback-item"},r.createElement("div",{className:"feedback-item-title"},r.createElement("div",null,a),r.createElement("div",null,t.customerName)),r.createElement("div",{className:"feedback-item-body"},t.feedbackBody))};return r.createElement("div",{className:"feedbacks-container"},r.createElement("div",{className:"feedbacks-container-title"},"Feedbacks from customers:"),t&&t.length?r.createElement("div",{className:"feedbacks-list"},t.map((function(e){return r.createElement(a,{feedback:e,key:e.timestamp})}))):r.createElement("div",{className:"no-feedbacks-msg"},"No customer feedbacks for now."))}},220:(e,t,a)=>{var r=a(689);e.exports=function(){return r.createElement("div",{className:"footer"},"Copyright Â© ",(new Date).getFullYear()," | ",r.createElement("a",{href:"#"},"Contact us"))}},199:(e,t,a)=>{var r=a(689),n=a(246),s=a(730),c=a(267);e.exports=function(e){var t="Age: ".concat(e.age," years old."),a=e.zipCode?e.zipCode:"No data",l=e.preferredLanguage?e.preferredLanguage:"No data",i=e.address,o=i?r.createElement(n,{data:i}):r.createElement("div",{className:"profile-no-address"},"No address info provided."),m=(e.categories||[]).join(", ");return r.createElement("div",{className:"profile-outer-container"},r.createElement("div",{className:"profile"},r.createElement("div",{className:"profile-info-container"},r.createElement("div",{className:"profile-image-container"},r.createElement("img",{src:e.avatarUrl})),r.createElement("div",{className:"profile-container"},r.createElement("div",{className:"profile-name"},e.name),r.createElement("div",{className:"profile-age"},t))),r.createElement("div",{className:"profile-details-container"},r.createElement("div",{className:"profile-details-header"},"Details:"),r.createElement("div",{className:"profile-details"},e.generalInfo)),r.createElement("div",{className:"profile-language"},r.createElement("span",null,"Preferred language:")," ",l),r.createElement("div",{className:"profile-email-and-phone-container"},r.createElement("div",{className:"email"},r.createElement("span",null,"Email: "),e.email),r.createElement("div",{className:"phone"},r.createElement("span",null,"Phone: "),e.phone)),r.createElement("div",{className:"profile-zip"},r.createElement("span",null,"Zip code: ")," ",a),o,r.createElement("div",{className:"categories"},r.createElement("span",null,"Categories:")," ",m),r.createElement(s,{feedbacks:e.feedbacks})),r.createElement("div",{className:"questions-list-container"},r.createElement(c,{latestQuestions:e.latestQuestions})))}},469:(e,t,a)=>{var r=a(860),n=a(270),s=r.Router();s.get("/profile",(function(e,t){var a=null;try{var r,s=e.query?null===(r=e.query.data)||void 0===r?void 0:r.toString():"";if(!s)return t.status(400).end();a=JSON.parse(s)}catch(e){return t.status(400).end()}t.header("content-type","text/html"),t.send(n(a))})),s.post("/profile",(function(e,t){if(!e.body)return t.status(400).end();var a=e.body,r={html:n(a),status:200};t.json(r)})),e.exports=s},511:(e,t,a)=>{var r=a(270);e.exports={renderContent:function(e,t){var a=e.request,n={avatarUrl:a.avatarUrl,name:a.name,age:a.age,generalInfo:a.generalInfo,email:a.email,phone:a.phone,preferredLanguage:a.preferredLanguage,zipCode:a.zipCode,address:a.address?{city:a.address.city,street:a.address.street}:null,categories:a.categories,feedbacks:a.feedbacks.map((function(e){return{customerName:e.customer_name,feedbackBody:e.feedback_body,timestamp:e.timestamp}})),latestQuestions:a.latest_questions.map((function(e){return{questionId:e.question_id,customerName:e.customer_name,text:e.text,timestamp:e.timestamp}}))};t(null,{html:r(n),status:200})}}},270:(e,t,a)=>{var r=a(689),n=a(943),s=a(684);e.exports=function(e){return s.renderToString(r.createElement(n,e))}},722:e=>{e.exports=function(e){var t=new Date(Date.UTC(1970,0,1));return t.setUTCSeconds(e),t.toLocaleDateString()}},337:e=>{"use strict";e.exports=require("@grpc/grpc-js")},831:e=>{"use strict";e.exports=require("@grpc/proto-loader")},860:e=>{"use strict";e.exports=require("express")},689:e=>{"use strict";e.exports=require("react")},684:e=>{"use strict";e.exports=require("react-dom/server")},17:e=>{"use strict";e.exports=require("path")},424:e=>{"use strict";e.exports=JSON.parse('{"client.css":"client.6ef401a766c5f1c85d81.css","client.js":"client.9063a1d077ff892b8816.js"}')}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,a),s.exports}(()=>{var e=a(337),t=a(860),r=a(17),n=a(469),s=a(511).renderContent,c=a(831),l={keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0},i=c.loadSync("./proto/profile_service.proto",l),o=e.loadPackageDefinition(i),m=t();m.use(t.json()),m.use("/content",t.static(r.join(__dirname,"static"))),m.get("/",(function(e,t){return t.status(200).send("ProfileService is OK")})),m.use("/",n);var d=new e.Server;d.addService(o.profile_service.v1.ProfileRenderService.service,{render:s,ping:function(e,t){var a=e.request.ping;console.log(a),t(null,{pong:"PONG!!!"})}}),d.bindAsync("".concat("0.0.0.0",":").concat(3002),e.ServerCredentials.createInsecure(),(function(e,t){e?console.log("Cannot set connection for GRPC server, exiting.."):(d.start(),console.log("GRPC server started at ".concat(t," port.")))})),m.listen(3e3,(function(){console.log("Express server started at ".concat(3e3," port."))}))})()})();